<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" ng-app="liber-coffee" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" ng-app="liber-coffee" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" ng-app="liber-coffee" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" ng-app="liber-coffee" class="no-js"> <!--<![endif]-->
<head>
  <title>Liber-Coffee</title>
  <link rel="stylesheet" href="css/app.css">
  <link rel="icon" href="favicon.ico">
  <link rel="icon" href="favicon.png" type="image/png" sizes="32x32">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset=utf-8>
</head>
<body ng-controller="LoadoutCtrl">
  <div class="site">
  <div class="player">
    <!--><ul class="playerPicker">
      <li class="playerIcon player1"><img src="svg/SH-20.svg" alt=""/></li>
      <li class="playerIcon player2"><img src="svg/SH-20.svg" alt=""/></li>
      <li class="playerIcon player3"><img src="svg/SH-20.svg" alt=""/></li>
      <li class="playerIcon player4"><img src="svg/SH-20.svg" alt=""/></li>
    </ul><!-->
    <img class="topicon" src="svgo/header.svg" alt="Liber-Coffee"/>
    <p class="gothic title">  Liber-Coffee  </p>
    <p class="gothic subtitle">Helldivers loadout randomizer</p>
    <p class="gothic">特殊装備</p>
    <div class="itemWhide">
      <img class="itemPic" ng-click="rollPerk()" ng-src="svgo/{{loadout.perk.img}}.svg"/>
      <p class="gothic label" ng-bind-template="{{loadout.perk.name}}"></p>
    </div>
    <p class="gothic">メインウェポン</p>
    <div class="itemWhide">
      <img class="itemPic" ng-click="rollPrimary()" ng-src="svgo/{{loadout.primary.img}}.svg"/>
        <p class="gothic label" ng-bind-template="{{loadout.primary.name}}"></p>
    </div>
    <p class="gothic">戦略支援</p>
    <div class="stratagems">
      <div ng-repeat="stratagem in loadout.stratagems">
        <img class="shade"
             ng-style="{'background-color':'rgb('+loadout.stratagems[$index].color+')'}"
             src="svgo/shade.svg"/>
        <img class="strat"
             ng-click="rollStratagem($index)"
             ng-src="svgo/{{loadout.stratagems[$index].img}}.svg"/>
      </div>
    </div>
    <div class="randomizer"  ng-click="rollEverything()">
        <p class="gothic label button">RANDOMIZE!</p>
    </div>
    <p class="gothic">Dice Mode</p>
    <div>
      <select class="dicemode gothic"
              ng-model="dicemode"
              ng-options="option.label for option in diceoptions track by option.id">

      </select>
    </div>
    <p class="gothic">Share</p>
    <div class="share">
      <input ng-model="url" onclick="this.select();" ng-blur="calcHash()">
    </div>
  </div>
  <p class="legal">© Philipp Westermann, 2016. All Rights Reserved</p>
  </div>
  <script src="js/angular.js"></script>
  <script src="js/arsenal.js"></script>
  <script src="js/hash64.js"></script>
  <script src="js/app.js"></script>
  <script src="https://rawgit.com/felixge/node-dateformat/master/lib/dateformat.js"></script>
  <script>
  const apiKey = "AIzaSyC0Os3_MQfMC9UsQ_PCyz7LxDspC3Jvm2E";
  document.querySelector(".randomizer").addEventListener("click", () => {
    setTimeout(() => {
      const key = "e-" + dateFormat(new Date(), "yyyymmddHHMMss");
      const shareUrl = document.querySelector(".share").childNodes[1].value;
      localStorage.setItem(key, shareUrl);
    }, 500);
  }, false);
  </script>
</body>
</html>
